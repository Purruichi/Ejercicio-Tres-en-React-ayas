{"ast":null,"code":"const API_BASE_URL=\"http://192.168.1.100:8080\";const outputGameId=document.getElementById('outputGameId');const outputPlayerXId=document.getElementById('outputPlayerXId');// Cambiado\nconst outputPlayerOId=document.getElementById('outputPlayerOId');// Nuevo\nconst outputBoard=document.getElementById('outputBoard');const outputWinner=document.getElementById('outputWinner');const outputError=document.getElementById('outputError');let gameId;let playerId;let board;let winner;export function getGameId(){return gameId;}export function getBoard(){return board;}export function getWinner(){return winner;}export async function createGame(){return fetch(`${API_BASE_URL}/create`).then(response=>response.json()).then(data=>{gameId=data.idPartida;playerId=data.idPlayerX;board=data.board;winner=data.ganador;outputGameId.textContent=`Game ID: ${gameId}`;outputPlayerXId.textContent=`Player X ID: ${playerId}`;// Actualizado\noutputBoard.textContent=`Board: ${JSON.stringify(board)}`;outputWinner.textContent=`Winner: ${winner}`;}).catch(error=>{outputError.textContent=`Error: ${error}`;});}export async function joinGame(){gameId=document.getElementById(\"gameId\").value;return fetch(`${API_BASE_URL}/join/${gameId}`,{headers:{\"ngrok-skip-browser-warning\":\"true\"// Agrega este encabezado\n}}).then(response=>response.json()).then(data=>{gameId=data.idPartida;playerId=data.idPlayerO;board=data.board;winner=data.ganador;outputGameId.textContent=`Game ID: ${gameId}`;outputPlayerOId.textContent=`Player O ID: ${playerId}`;outputBoard.textContent=`Board: ${JSON.stringify(board)}`;outputWinner.textContent=`Winner: ${winner}`;}).catch(error=>{outputError.textContent=`Error: ${error}`;});}export async function turno(casilla){console.log(playerId);return fetch(`${API_BASE_URL}/turno/${gameId}`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"ngrok-skip-browser-warning\":\"true\"// Agrega este encabezado\n},body:JSON.stringify({casilla,idJugador:playerId})}).then(response=>response.json()).then(data=>{board=data.board;winner=data.ganador;outputBoard.textContent=`Board: ${JSON.stringify(board)}`;outputWinner.textContent=`Winner: ${winner}`;}).catch(error=>{outputError.textContent=`Error: ${error}`;});}export async function reloadBoard(){console.log(gameId);return fetch(`${API_BASE_URL}/actualizar/${gameId}`,{headers:{\"ngrok-skip-browser-warning\":\"true\"// Agrega este encabezado\n}}).then(response=>response.json()).then(data=>{board=data.board;console.log(board);winner=data.ganador;console.log(winner);}).catch(error=>console.error(\"Error:\",error));}","map":{"version":3,"names":["API_BASE_URL","outputGameId","document","getElementById","outputPlayerXId","outputPlayerOId","outputBoard","outputWinner","outputError","gameId","playerId","board","winner","getGameId","getBoard","getWinner","createGame","fetch","then","response","json","data","idPartida","idPlayerX","ganador","textContent","JSON","stringify","catch","error","joinGame","value","headers","idPlayerO","turno","casilla","console","log","method","body","idJugador","reloadBoard"],"sources":["C:/Users/purru/OneDrive - Universidad Pontificia Comillas/Documentos/3_Tercero/PAT/Repositorios/practica4/Ejercicio Tres en React-ayas/src/Api.js"],"sourcesContent":["const API_BASE_URL = \"http://192.168.1.100:8080\";\r\n\r\nconst outputGameId = document.getElementById('outputGameId');\r\nconst outputPlayerXId = document.getElementById('outputPlayerXId'); // Cambiado\r\nconst outputPlayerOId = document.getElementById('outputPlayerOId'); // Nuevo\r\nconst outputBoard = document.getElementById('outputBoard');\r\nconst outputWinner = document.getElementById('outputWinner');\r\nconst outputError = document.getElementById('outputError');\r\n\r\nlet gameId;\r\nlet playerId;\r\nlet board;\r\nlet winner;\r\n\r\nexport function getGameId(){\r\n    return gameId;\r\n}\r\n\r\nexport function getBoard(){\r\n    return board;\r\n}\r\n\r\nexport function getWinner(){\r\n    return winner;\r\n}\r\n\r\nexport async function createGame(){\r\n    return fetch(`${API_BASE_URL}/create`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        gameId = data.idPartida;\r\n        playerId = data.idPlayerX;\r\n        board = data.board;\r\n        winner = data.ganador;\r\n\r\n        outputGameId.textContent = `Game ID: ${gameId}`;\r\n        outputPlayerXId.textContent = `Player X ID: ${playerId}`; // Actualizado\r\n        outputBoard.textContent = `Board: ${JSON.stringify(board)}`;\r\n        outputWinner.textContent = `Winner: ${winner}`;\r\n    })\r\n    .catch(error => {\r\n        outputError.textContent = `Error: ${error}`;\r\n    });\r\n}\r\n\r\nexport async function joinGame() {\r\n    gameId = document.getElementById(\"gameId\").value;\r\n    return fetch(`${API_BASE_URL}/join/${gameId}`, {\r\n        headers: {\r\n            \"ngrok-skip-browser-warning\": \"true\", // Agrega este encabezado\r\n        },\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            gameId = data.idPartida;\r\n            playerId = data.idPlayerO;\r\n            board = data.board;\r\n            winner = data.ganador;\r\n\r\n            outputGameId.textContent = `Game ID: ${gameId}`;\r\n            outputPlayerOId.textContent = `Player O ID: ${playerId}`;\r\n            outputBoard.textContent = `Board: ${JSON.stringify(board)}`;\r\n            outputWinner.textContent = `Winner: ${winner}`;\r\n        })\r\n        .catch(error => {\r\n            outputError.textContent = `Error: ${error}`;\r\n        });\r\n}\r\n\r\nexport async function turno(casilla) {\r\n    console.log(playerId);\r\n    return fetch(`${API_BASE_URL}/turno/${gameId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"ngrok-skip-browser-warning\": \"true\", // Agrega este encabezado\r\n        },\r\n        body: JSON.stringify({ casilla, idJugador: playerId }),\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            board = data.board;\r\n            winner = data.ganador;\r\n\r\n            outputBoard.textContent = `Board: ${JSON.stringify(board)}`;\r\n            outputWinner.textContent = `Winner: ${winner}`;\r\n        })\r\n        .catch(error => {\r\n            outputError.textContent = `Error: ${error}`;\r\n        });\r\n}\r\n\r\nexport async function reloadBoard() {\r\n    console.log(gameId);\r\n    return fetch(`${API_BASE_URL}/actualizar/${gameId}`, {\r\n        headers: {\r\n            \"ngrok-skip-browser-warning\": \"true\", // Agrega este encabezado\r\n        },\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            board = data.board;\r\n            console.log(board);\r\n            winner = data.ganador;\r\n            console.log(winner);\r\n        })\r\n        .catch(error => console.error(\"Error:\", error));\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}